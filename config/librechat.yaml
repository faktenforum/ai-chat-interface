version: 1.3.1
cache: true

interface:
  customWelcome: 'Hi {{user.name}}! Willkommen beim KI Chat-Interface von Correctiv'
  # Enable/disable file search as a chatarea selection (default: true)
  fileSearch: true
  # Privacy policy settings
  privacyPolicy:
    externalUrl: 'https://correctiv.org/kontakt/datenschutz/'
    openNewTab: true

  # Terms of service
  termsOfService:
    externalUrl: 'https://correctiv.org'
    openNewTab: true
    modalAcceptance: true
    modalTitle: 'Kleingedrucktes'
    modalContent: |
      # Nutzungsbedingungen

      **Wichtiger Hinweis zu KI-generierten Antworten**
      Alle Antworten dieses KI-Systems sollten stets von Menschen überprüft werden. KI-generierte Inhalte können Fehler enthalten und sollten nicht als alleinige Quelle für wichtige Entscheidungen verwendet werden.

      **Datenverarbeitung und Hosting**
      Wir bemühen uns, so viele Komponenten wie möglich selbst zu hosten. Aktuell nutzen wir noch externe Dienste wie OpenRouter, wodurch Daten derzeit an Server in den USA übertragen werden. Unser Ziel ist es, vollständig auf selbst gehostete oder europäische Dienste umzustellen.
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true
  peoplePicker:
    users: true
    groups: true
    roles: true
  marketplace:
      use: true
  fileCitations: true
  search: true

memory:
  disabled: false
  personalize: true  # Gives users the ability to toggle memory on/off, true by default
  tokenLimit: 2000  # Maximum tokens for memory storage
  messageWindowSize: 5  # Number of recent messages to consider
  agent:
    provider: "OpenRouter"
    model: "openai/gpt-5-mini"
    instructions: |
      A memory assistant that stores per-user information securely and recalls it when relevant.
    model_parameters:
      temperature: 0.1

endpoints:
  custom:
    - name: OpenRouter
      apiKey: "${OPENROUTER_KEY}"
      baseURL: "${OPENROUTER_BASE_URL}"
      models:
        default: ["openai/gpt-5-mini"]
        fetch: true
      titleConvo: true
      summarize: true
      headers:
        HTTP-Referer: "${OPENROUTER_SITE_URL}"
        X-Title: "${OPENROUTER_APP_NAME}"

# Web Search
webSearch:
  enabled: true
  searchProvider: "searxng"
  searxngInstanceUrl: "${SEARXNG_INSTANCE_URL}"
  searxngApiKey: "${SEARXNG_API_KEY}"
  scraperProvider: "firecrawl"
  firecrawlApiKey: "${FIRECRAWL_API_KEY}"
  firecrawlApiUrl: "${FIRECRAWL_API_URL}"
  firecrawlVersion: "${FIRECRAWL_VERSION}"
  jinaApiKey: "${JINA_API_KEY}"
  jinaApiUrl: "${JINA_API_URL}"
  rerankerType: "jina"
  scraperTimeout: 7500
  safeSearch: 1
