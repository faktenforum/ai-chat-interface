# Domain Configuration
# Set this to your production domain (e.g. ai.faktenforum.org) or localhost for dev
DOMAIN=localhost
# Client-side domain for LibreChat (used for email verification links, OAuth callbacks, etc.)
DOMAIN_CLIENT=http://chat.localhost

# Docker - User/Group IDs (for file permissions)
UID=1000
GID=1000

# OpenRouter (required)
OPENROUTER_KEY=sk-or-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_APP_NAME=LibreChat-OpenRouter
OPENROUTER_SITE_URL=http://chat.localhost

# LibreChat Core
LIBRECHAT_SESSION_SECRET=change-me
LIBRECHAT_JWT_SECRET=change-me-jwt
LIBRECHAT_JWT_REFRESH_SECRET=change-me-refresh
LIBRECHAT_CREDS_KEY=0123456789abcdef0123456789abcdef
LIBRECHAT_CREDS_IV=abcdef9876543210
LIBRECHAT_ALLOW_REGISTRATION=true
LIBRECHAT_MONGO_URI=mongodb://mongodb:27017/LibreChat
LIBRECHAT_HOST=0.0.0.0

# LibreChat - Mongo
LIBRECHAT_MONGO_DATABASE=librechat

# LibreChat - Meilisearch
LIBRECHAT_MEILI_HOST=http://meilisearch:7700
LIBRECHAT_MEILI_MASTER_KEY=change-me-meili-master-key
LIBRECHAT_SEARCH_ENABLED=true

# LibreChat - RAG API
LIBRECHAT_RAG_PORT=8000
LIBRECHAT_RAG_API_URL=http://rag_api:8000

# RAG API - Embeddings Configuration (processed by setup-env.ts)
# OpenRouter: use provider/model-name format (e.g., 'openai/text-embedding-3-small', 'baai/bge-m3')
# Direct OpenAI API: use model name without prefix (e.g., 'text-embedding-3-small')
# Note: baai/bge-m3 requires OpenRouter headers (HTTP-Referer, X-Title) - see TODO.md
EMBEDDINGS_PROVIDER=openai
EMBEDDINGS_MODEL=openai/text-embedding-3-small
# RAG_OPENAI_API_KEY overrides OPENROUTER_KEY/OPENAI_API_KEY if set
# RAG_OPENAI_BASEURL overrides OPENROUTER_BASE_URL if set
# RAG API - JWT Secret (processed by setup-env.ts)
# Uses same secret as LibreChat for token verification
RAG_JWT_SECRET=${LIBRECHAT_JWT_SECRET}

# RAG API - Chunking Configuration (processed by setup-env.ts)
# Standard values: 1500/100 (works with most models)
# For BGE-M3 (8K context): use 2000/200 once OpenRouter support is added
RAG_CHUNK_SIZE=1500
RAG_CHUNK_OVERLAP=100

# LibreChat - Vector Database (PostgreSQL)
LIBRECHAT_VECTORDB_DB=vectordb
LIBRECHAT_VECTORDB_USER=vectordb
LIBRECHAT_VECTORDB_PASSWORD=

# LibreChat - Registration & Authentication
LIBRECHAT_ALLOW_REGISTRATION=true
# LibreChat - Default Administrators (comma-separated email addresses)
# Users with these email addresses will automatically be assigned the ADMIN role
LIBRECHAT_DEFAULT_ADMINS=
# Set to false in production to disable self-registration
# Users can then be created manually via: docker exec -it LibreChat npm run create-user
LIBRECHAT_ALLOW_UNVERIFIED_EMAIL_LOGIN=false
# Set to false to require email verification before login (enabled for local testing with MailDev)

# LibreChat - Interface Customization
# Custom welcome message (supports {{user.name}} placeholder)
LIBRECHAT_CUSTOM_WELCOME=Hi {{user.name}}! Welcome to the AI Chat Interface powered by LibreChat
# Privacy Policy URL (external link)
LIBRECHAT_PRIVACY_POLICY_URL=https://example.com/privacy
# Terms of Service URL (external link)
LIBRECHAT_TERMS_OF_SERVICE_URL=https://example.com/terms

# LibreChat - Email (for verification & password reset)
# MailDev for local development (SMTP: maildev:1025, Web UI: http://maildev.localhost via Traefik)
# For production, configure SendGrid or another SMTP provider
EMAIL_HOST=maildev
EMAIL_PORT=1025
EMAIL_ENCRYPTION=
EMAIL_USERNAME=maildev
EMAIL_PASSWORD=maildev
EMAIL_FROM=noreply@localhost
EMAIL_FROM_NAME=LibreChat Local
EMAIL_ALLOW_SELFSIGNED=true

# SearXNG (for LibreChat WebSearch)
LIBRECHAT_SEARXNG_URL=http://searxng:8080
LIBRECHAT_SEARXNG_API_KEY=change-me-searxng-api-key
SEARXNG_SECRET_KEY=change-me-searxng-secret
# SearXNG default language for search results
# Options: 'de' (German), 'en' (English), 'all' (all languages), 'auto' (auto-detect)
# Set to 'de' or 'en' to filter out unwanted languages (e.g., Chinese results)
SEARXNG_DEFAULT_LANG=de

# Firecrawl
FIRECRAWL_INTERNAL_PORT=3002
FIRECRAWL_EXTRACT_WORKER_PORT=3004
FIRECRAWL_WORKER_PORT=3005
FIRECRAWL_REDIS_URL=redis://redis:6379
PLAYWRIGHT_MICROSERVICE_URL=http://playwright-service:3000/scrape
FIRECRAWL_POSTGRES_HOST=nuq-postgres
FIRECRAWL_POSTGRES_DB=firecrawl
FIRECRAWL_POSTGRES_USER=firecrawl
FIRECRAWL_POSTGRES_PASSWORD=
FIRECRAWL_RABBITMQ_USER=firecrawl
FIRECRAWL_RABBITMQ_PASSWORD=
FIRECRAWL_USE_DB_AUTHENTICATION=false
FIRECRAWL_API_URL=http://firecrawl-api:3002
FIRECRAWL_API_KEY=local-selfhost
FIRECRAWL_VERSION=v2
FIRECRAWL_NUM_WORKERS=8
FIRECRAWL_BULL_AUTH_KEY=my-secret-key
FIRECRAWL_LLM_MODEL=gpt-4o
# Jina Reranker (for LibreChat WebSearch)
LIBRECHAT_JINA_API_KEY=
LIBRECHAT_JINA_API_URL=https://api.jina.ai/v1/rerank

# SearXNG - Springer Nature API (optional, for scientific literature search)
# Get your API key from: https://dev.springernature.com/
SPRINGER_NATURE_API_KEY=

# LibreChat - OCR (Optical Character Recognition)
# Get your API key from: https://console.mistral.ai/
LIBRECHAT_OCR_API_KEY=your-mistral-api-key-here
LIBRECHAT_OCR_BASEURL=https://api.mistral.ai/v1
