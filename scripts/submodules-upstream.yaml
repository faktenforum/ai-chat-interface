# Dev submodules registry (single config for all scripts)
#
# Responsibilities:
#   update-submodules.sh       — Bring all up to date: (1) git submodule update --init --remote for all;
#                                (2) for entries with upstream_url: upstream remote, tracking branch; forks: merge into main.
#   build-dev-submodules.sh    — Build submodules needed for local/local-dev stacks (post_init steps only).
#   create-faktenforum-branches.sh — For entries with upstream_url: create upstream tracking branch (optional).
#
# Fields: path (required); upstream_url + fork_url (forks) or upstream_url only (upstream-only); post_init (for build-dev).

submodules:
  # --- Faktenforum forks (fork_url + upstream_url) ---
  - path: dev/librechat
    fork_url: git@github.com:faktenforum/LibreChat.git
    upstream_url: https://github.com/danny-avila/LibreChat.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "Main LibreChat application fork"

  - path: dev/librechat-doc
    fork_url: git@github.com:faktenforum/librechat.ai.git
    upstream_url: https://github.com/LibreChat-AI/librechat.ai.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "LibreChat documentation fork"

  - path: dev/open-streetmap-mcp
    fork_url: git@github.com:faktenforum/open-streetmap-mcp.git
    upstream_url: https://github.com/jagan-shanmugam/open-streetmap-mcp.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "OpenStreetMap MCP server fork with HTTP transport support"

  - path: dev/stackoverflow-mcp
    fork_url: git@github.com:faktenforum/stackoverflow-mcp.git
    upstream_url: https://github.com/gscalzo/stackoverflow-mcp.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "Stack Overflow MCP server fork"

  - path: dev/npm-search-mcp
    fork_url: git@github.com:faktenforum/npm-search-mcp-server.git
    upstream_url: https://github.com/btwiuse/npm-search-mcp-server.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "npm Search MCP server fork with HTTP transport support"

  - path: dev/db-timetable-mcp
    fork_url: git@github.com:faktenforum/db-timetable-mcp.git
    upstream_url: https://github.com/jorekai/db-timetable-mcp.git
    upstream_branch: master
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "Deutsche Bahn Timetable MCP server fork"

  # --- Upstream-only (not forks): fork: false, no fork_url ---
  - path: dev/ytptube
    fork: false
    upstream_url: https://github.com/arabcoders/ytptube.git
    upstream_branch: main
    fork_branch: main
    upstream_tracking_branch: upstream
    description: "ytptube (upstream only, not a fork)"

  # --- External dev submodules (updated by update-submodules step 1; no upstream sync) ---
  - path: dev/agents
    description: "LibreChat agents npm package"
    post_init: npm_install_build

  - path: dev/rag_api
    description: "RAG API service"

  - path: dev/firecrawl
    description: "Firecrawl web scraping service"

  - path: dev/searxng
    description: "SearXNG metasearch engine"

  - path: dev/n8n
    description: "n8n workflow automation platform"

  - path: dev/mcp-youtube-transcript
    description: "YouTube Transcript MCP server (video URL → transcript via youtube-transcript-api)"
